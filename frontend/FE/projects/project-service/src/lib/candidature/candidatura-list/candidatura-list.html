<div class="candidature-container">
  <h2>Lista di candidature</h2>
  
  <ul>
    @for (candidatura of candidature(); track candidatura.id) {
      <li class="candidatura-item">
        <strong>Titolo:</strong> {{ candidatura.title }}
        <strong>Descrizione:</strong> {{ candidatura.description }}
        <strong>Data invio:</strong> {{ candidatura.dataInvio | date: 'dd/MM/yyyy' }}
        <strong>Stato:</strong> 
        <span class="status status-{{candidatura.status}}">
          {{ candidatura.status }}
        </span>

         <!-- Comandi visibili solo per ADMIN -->
        <div *ngIf="role === 'ADMIN'" class="admin-actions">
          <button (click)="valutaCandidatura(candidatura.id, 'APPROVATA')">Approva</button>
          <button (click)="valutaCandidatura(candidatura.id, 'RIFIUTATA')">Rifiuta</button>
        </div>
      </li>
    } @empty {
      <li>Nessuna candidatura trovata.</li>
    }  
  </ul>
  
  <!--  Bottone per aggiungere candidatura visibile solo a USER -->
  <button *ngIf="role === 'USER'" (click)="addProject()">Aggiungi Candidatura</button>
</div>
